function SocialPlugIns(t,e,i){this.LAYOUT_HORIZONTAL="horizontal",this.LAYOUT_VERTICAL="vertical",this.LAYOUT_BOX="box",this.components=t,this.layout=e,this.pluginsCodes={},this.FBLIKE="fblike",this.FBLIKENC="fblikenc",this.FBSEND="fbsend",this.FBFANBOX="fbfanbox",this.GOOGLEPLUS="gplus",this.FBSHARE="fbshare",this.TWEETBUTTON="tweetbutton",this.htmlCode="",this.analyticsCode="",this.container=i||null,this.process()}SocialPlugIns.prototype.process=function(){for(var t in this.components)switch(t){case this.FBLIKE:this.pluginsCodes[this.FBLIKE]=this.getFBLike(this.components[t]);break;case this.FBLIKENC:this.pluginsCodes[this.FBLIKENC]=this.getFBLikeNC(this.components[t]);break;case this.FBSEND:this.pluginsCodes[this.FBSEND]=this.getFBSend(this.components[t]);break;case this.FBFANBOX:this.pluginsCodes[this.FBFANBOX]=this.getFBFanBox(this.components[t]);break;case this.GOOGLEPLUS:this.pluginsCodes[this.GOOGLEPLUS]=this.getgPlus(this.components[t]);break;case this.FBSHARE:this.pluginsCodes[this.FBSHARE]=this.getFBShare(this.components[t]);break;case this.TWEETBUTTON:this.pluginsCodes[this.TWEETBUTTON]=this.getTweetButton(this.components[t])}this.pluginsCodes&&(this.htmlCode=this.createLayout(),"undefined"!=typeof this.container&&null!=this.container?this.container.innerHTML='<div id = "social_plugins">'+this.htmlCode+this.googleAnalyticsCodeTwttr()+"</div>":document.write('<div id = "social_plugins">'+this.htmlCode+this.googleAnalyticsCodeTwttr()+"</div>"),this.loadJS())},SocialPlugIns.prototype.getFBLike=function(t){var e="",i="";for(var s in t)e+=" "+s+"='"+t[s]+"'";return i+="<fb:like "+e+" layout='button_count' action='like' data-show-faces='false' style='width:"+t.width+";height:"+t.height+";'> </fb:like>"},SocialPlugIns.prototype.getFBLikeNC=function(t){var e="",i="";for(var s in t)e+=" data-"+s+"='"+t[s]+"'";return i="<style>.fb_edge_widget_with_comment span.fb_edge_comment_widget iframe.fb_ltr {display: none !important;}</style>",i+="<fb:like "+e+" layout='button_count' action='like' data-show-faces='false' style='width:"+t.width+";height:"+t.height+";'> </fb:like>"},SocialPlugIns.prototype.getFBSend=function(t){var e="",i="";for(var s in t)e+=" "+s+"='"+t[s]+"'";return i="<fb:send "+e+" style='width:"+t.width+";height:"+t.height+";'> </fb:send>"},SocialPlugIns.prototype.getFBFanBox=function(t){var e="",i="";for(var s in t)e+=" "+s+"='"+t[s]+"'";return i="<div class='fb-like-box' "+e+" show-faces='true' stream='false' header='false' style=''> </div>"},SocialPlugIns.prototype.getgPlus=function(t){var e="",i="",s=navigator.appVersion;if(-1!==s.indexOf("MSIE 8.0")){var o="";o=t.href?t.href:document.URL;var n="",a="120px";t.annotation&&(n=t.annotation,"none"==t.annotation&&(a="35px")),i='<iframe name="I1_1340019114188" tabIndex="0" title="+1" id="I1_1340019114188" src="https://plusone.google.com/_/+1/fastbutton?bsv=pr&url='+o+"&annotation="+n+'&size=medium&hl=en-US" frameBorder="0" marginWidth="0" marginHeight="0" scrolling="no" vspace="0" hspace="0" style="left: 0px; top: 0px; width:'+a+'; height: 24px; visibility: visible; position: relative;" allowTransparency=""></iframe>'}else{for(var r in t)e+=" "+r+"='"+t[r]+"'";i="<g:plusone"+e+"></g:plusone>"}return i},SocialPlugIns.prototype.getFBShare=function(t){var e="",i="";if(t.custom_image_path)i="<a target='_blank' href='http://www.facebook.com/share.php?",t.href&&(i+="&u="+encodeURIComponent(t.href)),i+="'><img alt='Share' src='"+t.custom_image_path+"'/></a>";else{for(var s in t)e+=" "+s+"='"+t[s]+"'";i="<a name = 'fb_share' "+e+" ></a>"}return i},SocialPlugIns.prototype.getTweetButton=function(t){var e="",i="";if(t.custom_image_path)i="<a target='_blank' href='http://twitter.com/share?via@commonfloor",t["data-url"]&&(i+="&url="+encodeURIComponent(t["data-url"])),t.text&&(i+="&text="+encodeURIComponent(t.text)),i+="'><img alt='Tweet' src='"+t.custom_image_path+"'/></a>";else{for(var s in t)e+=" "+s+"='"+t[s]+"'";i="<a class='twitter-share-button' "+e+" ></a>"}return i},SocialPlugIns.prototype.createLayout=function(){var t="";switch(this.layout){case this.LAYOUT_VERTICAL:t+="<table cellspacing='5' >";for(var e in this.pluginsCodes)(e==this.FBLIKE||e==this.FBLIKENC||e==this.FBSEND||e==this.FBFANBOX||e==this.GOOGLEPLUS||e==this.FBSHARE||e==this.TWEETBUTTON)&&(t+="<tr><td>"+this.pluginsCodes[e]+"</td></tr>");t+="</table>";break;case this.LAYOUT_HORIZONTAL:default:t+="<table> <tr valign='top'>";for(var e in this.pluginsCodes)(e==this.FBLIKE||e==this.FBLIKENC||e==this.FBSEND||e==this.FBFANBOX||e==this.GOOGLEPLUS||e==this.FBSHARE||e==this.TWEETBUTTON)&&(t+="<td>"+this.pluginsCodes[e]+"</td>");t+="</tr> </table>"}return t},SocialPlugIns.prototype.googleAnalyticsCodeFB=function(){var t="";for(var e in this.pluginsCodes)(e==this.FBLIKE||e==this.FBLIKENC)&&(t+="FB.Event.subscribe('edge.create',function(targetUrl){_gaq.push(['_trackSocial','facebook','like',targetUrl]);});",t+="FB.Event.subscribe('edge.remove',function(targetUrl){_gaq.push(['_trackSocial','facebook','unlike',targetUrl]);});"),e==this.FBSEND&&(t+="FB.Event.subscribe('message.send',function(targetUrl){_gaq.push(['_trackSocial','facebook','send',targetUrl]);});"),e==this.FBSHARE&&(t+="FB.Event.subscribe('message.send',function(targetUrl){_gaq.push(['_trackSocial','facebook','share',targetUrl]);});");return t+=""},SocialPlugIns.prototype.googleAnalyticsCodeTwttr=function(){var t="<script>";for(var e in this.pluginsCodes)if(e==this.TWEETBUTTON){var i=this.components[this.TWEETBUTTON]["data-url"];t+="var targeturl = '"+i+"';"}return t+="</script>"},SocialPlugIns.prototype.loadJS=function(){this.pluginsCodes[this.GOOGLEPLUS]&&CFLoad.js("https://apis.google.com/js/plusone.js",null,{id:"google_script"});var t=this;window.fbAsyncInit=function(){FB.init({appId:"106907219376851",status:!0,cookie:!0,xfbml:!0}),FB.XFBML.parse();var e=document.createElement("script");e.type="text/javascript",e.innerHTML=t.googleAnalyticsCodeFB(),document.getElementById("social_plugins").appendChild(e)},(this.pluginsCodes[this.FBLIKE]||this.pluginsCodes[this.FBSEND]||this.pluginsCodes[this.FBFANBOX]||this.pluginsCodes[this.FBLIKENC])&&CFLoad.js("https://connect.facebook.net/en_US/all.js",function(){},{id:"facebook-jssdk"}),this.pluginsCodes[this.FBSHARE]&&CFLoad.js("http://static.ak.fbcdn.net/connect.php/js/FB.Share",null,{id:"facebook_share_script"}),this.pluginsCodes[this.TWEETBUTTON]&&CFLoad.js("//platform.twitter.com/widgets.js",function(){twttr.events.bind("tweet",function(){_gaq.push(["_trackSocial","twitter","tweet",targeturl])})},{id:"twitter_script"})};